{% extends 'base.html' %}

{% block title %}Книжный магазин - Регистрация{% endblock %}


{% block content %}

<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">

      <div class="card shadow-lg border-0 rounded-4">
        <div class="card-body p-4">
          <h3 class="card-title mb-4 text-center">Регистрация</h3>

            <form method="POST" class="card-table" novalidate>
            {{ form.hidden_tag() }}

              <div class="row mb-3">
                <div class="col">
                  {{ form.name.label(class="form-label") }}
                  {% if form.name.errors %}
                    {{ form.name(class="form-control is-invalid") }}
                    <div class="invalid-feedback">{{ form.name.errors[0] }}</div>
                  {% else %}
                    {{ form.name(class="form-control") }}
                    <div class="invalid-feedback"></div>  {# пустая для выравнивания #}
                  {% endif %}
                </div>
                <div class="col">
                  {{ form.surname.label(class="form-label") }}
                  {% if form.surname.errors %}
                    {{ form.surname(class="form-control is-invalid") }}
                    <div class="invalid-feedback">{{ form.surname.errors[0] }}</div>
                  {% else %}
                    {{ form.surname(class="form-control") }}
                    <div class="invalid-feedback"></div>
                  {% endif %}
                </div>
              </div>
              {% for field in form if field.name not in ['csrf_token', 'submit', 'name', 'surname'] %}
                <div class="mb-3">
                  {{ field.label(class="form-label") }}
                  {% if field.errors %}
                    {{ field(class="form-control is-invalid") }}
                    <div class="invalid-feedback">{{ field.errors[0] }}</div>
                  {% else %}
                    {{ field(class="form-control") }}
                  {% endif %}
                </div>
              {% endfor %}

              <div class="d-grid gap-2">
                {{ form.submit(class="btn btn-primary w-100 mb-3") }}
              </div>

              <div class="d-flex justify-content-between align-items-center">
                <a href="{{ url_for('index.main') }}" class="btn btn-outline-secondary btn-sm">← Назад на главную</a>
                <small>Уже есть аккаунт? <a href="{{ url_for('index.login') }}">Войти</a></small>
              </div>

            </form>

          </div>
        </div>

      </div>
    </div>
  </div>
{% endblock %}
